import{_ as i,c as a,o as l,ag as n}from"./chunks/framework.Ckikgd0K.js";const d=JSON.parse('{"title":"解析器配置","description":"","frontmatter":{},"headers":[],"relativePath":"configuration/parser.md","filePath":"configuration/parser.md","lastUpdated":1741430793000}'),t={name:"configuration/parser.md"};function p(e,s,h,k,r,o){return l(),a("div",null,s[0]||(s[0]=[n(`<h1 id="解析器配置" tabindex="-1">解析器配置 <a class="header-anchor" href="#解析器配置" aria-label="Permalink to &quot;解析器配置&quot;">​</a></h1><p>解析器配置部分控制 Bangumi-rs 如何解析动漫文件名，包括传统解析器和 AI 解析器的设置。</p><h2 id="配置概述" tabindex="-1">配置概述 <a class="header-anchor" href="#配置概述" aria-label="Permalink to &quot;配置概述&quot;">​</a></h2><p>Bangumi-rs 支持两种类型的解析器：</p><ol><li><strong>传统解析器 (Raw Parser)</strong>: 基于正则表达式和规则的文件名解析</li><li><strong>AI 解析器</strong>: 利用大型语言模型进行更准确的解析，支持多个 API 服务提供商</li></ol><p>解析器配置位于配置文件的 <code>[parser]</code> 部分及其子部分：</p><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">raw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">enabled = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">siliconflow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">enabled = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">api_key = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;your-api-key&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">model = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;deepseek-ai/DeepSeek-V3&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">base_url = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://api.siliconflow.com/v1&quot;</span></span></code></pre></div><h2 id="传统解析器配置" tabindex="-1">传统解析器配置 <a class="header-anchor" href="#传统解析器配置" aria-label="Permalink to &quot;传统解析器配置&quot;">​</a></h2><p>传统解析器基于预定义的规则和正则表达式，能够处理大多数标准命名的文件。</p><h3 id="配置项" tabindex="-1">配置项 <a class="header-anchor" href="#配置项" aria-label="Permalink to &quot;配置项&quot;">​</a></h3><p>传统解析器配置位于 <code>[parser.raw]</code> 部分：</p><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">raw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">enabled = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">priority = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span></code></pre></div><ul><li><p><strong>启用状态 (enabled)</strong></p><ul><li><strong>说明</strong>: 是否启用传统解析器</li><li><strong>默认值</strong>: <code>true</code></li><li><strong>格式</strong>: 布尔值 (<code>true</code> 或 <code>false</code>)</li></ul></li><li><p><strong>优先级 (priority)</strong></p><ul><li><strong>说明</strong>: 设置传统解析器的优先级，数字越小优先级越高</li><li><strong>默认值</strong>: <code>1</code></li><li><strong>格式</strong>: 整数</li></ul></li><li><p><strong>自定义规则 (custom_rules)</strong></p><ul><li><strong>说明</strong>: 添加自定义的正则表达式规则</li><li><strong>格式</strong>: 字符串数组</li><li><strong>示例</strong>:<div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">custom_rules = [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;(?P&lt;title&gt;.+?)</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">s+S(?P&lt;season&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">d+)E(?P&lt;episode&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">d+)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">[(?P&lt;subgroup&gt;.+?)</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">]</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">s*(?P&lt;title&gt;.+?)</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">s+(?P&lt;episode&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">d+)&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div></li></ul></li></ul><h2 id="ai-解析器配置" tabindex="-1">AI 解析器配置 <a class="header-anchor" href="#ai-解析器配置" aria-label="Permalink to &quot;AI 解析器配置&quot;">​</a></h2><p>Bangumi-rs 支持多种 AI 服务提供商的解析器，每个提供商有自己的配置部分。</p><h3 id="通用配置项" tabindex="-1">通用配置项 <a class="header-anchor" href="#通用配置项" aria-label="Permalink to &quot;通用配置项&quot;">​</a></h3><p>每个 AI 解析器都有以下通用配置项：</p><ul><li><p><strong>启用状态 (enabled)</strong></p><ul><li><strong>说明</strong>: 是否启用该 AI 解析器</li><li><strong>默认值</strong>: <code>false</code></li><li><strong>格式</strong>: 布尔值 (<code>true</code> 或 <code>false</code>)</li></ul></li><li><p><strong>API 密钥 (api_key)</strong></p><ul><li><strong>说明</strong>: 服务提供商的 API 密钥</li><li><strong>格式</strong>: 字符串</li><li><strong>示例</strong>: <code>api_key = &quot;sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</code></li></ul></li><li><p><strong>模型 (model)</strong></p><ul><li><strong>说明</strong>: 要使用的 AI 模型名称</li><li><strong>格式</strong>: 字符串</li><li><strong>示例</strong>: <code>model = &quot;gpt-4&quot;</code></li></ul></li><li><p><strong>基础 URL (base_url)</strong></p><ul><li><strong>说明</strong>: API 服务的基础 URL</li><li><strong>格式</strong>: 字符串</li><li><strong>示例</strong>: <code>base_url = &quot;https://api.openai.com/v1&quot;</code></li></ul></li><li><p><strong>优先级 (priority)</strong></p><ul><li><strong>说明</strong>: 设置该 AI 解析器的优先级，数字越小优先级越高</li><li><strong>默认值</strong>: 根据解析器类型不同而不同</li><li><strong>格式</strong>: 整数</li></ul></li><li><p><strong>超时 (timeout)</strong></p><ul><li><strong>说明</strong>: API 请求的超时时间</li><li><strong>默认值</strong>: <code>&quot;30s&quot;</code></li><li><strong>格式</strong>: 时间字符串，支持 <code>s</code>(秒)、<code>m</code>(分)、<code>h</code>(小时)</li><li><strong>示例</strong>: <code>timeout = &quot;60s&quot;</code></li></ul></li></ul><h3 id="siliconflow-解析器" tabindex="-1">SiliconFlow 解析器 <a class="header-anchor" href="#siliconflow-解析器" aria-label="Permalink to &quot;SiliconFlow 解析器&quot;">​</a></h3><p>SiliconFlow 解析器配置位于 <code>[parser.siliconflow]</code> 部分：</p><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">siliconflow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">enabled = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">api_key = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">model = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;deepseek-ai/DeepSeek-V3&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">base_url = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://api.siliconflow.com/v1&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">priority = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">timeout = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;30s&quot;</span></span></code></pre></div><h3 id="deepseek-解析器" tabindex="-1">DeepSeek 解析器 <a class="header-anchor" href="#deepseek-解析器" aria-label="Permalink to &quot;DeepSeek 解析器&quot;">​</a></h3><p>DeepSeek 解析器配置位于 <code>[parser.deepseek]</code> 部分：</p><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">deepseek</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">enabled = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">api_key = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">model = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;deepseek-chat&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">base_url = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://api.deepseek.com/v1&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">priority = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">timeout = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;30s&quot;</span></span></code></pre></div><h3 id="openai-解析器" tabindex="-1">OpenAI 解析器 <a class="header-anchor" href="#openai-解析器" aria-label="Permalink to &quot;OpenAI 解析器&quot;">​</a></h3><p>OpenAI 解析器配置位于 <code>[parser.openai]</code> 部分：</p><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openai</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">enabled = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">api_key = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">model = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;gpt-4&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">base_url = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://api.openai.com/v1&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">priority = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">timeout = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;30s&quot;</span></span></code></pre></div><h3 id="claude-解析器" tabindex="-1">Claude 解析器 <a class="header-anchor" href="#claude-解析器" aria-label="Permalink to &quot;Claude 解析器&quot;">​</a></h3><p>Claude 解析器配置位于 <code>[parser.claude]</code> 部分：</p><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">enabled = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">api_key = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">model = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;claude-3-opus-20240229&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">base_url = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://api.anthropic.com/v1&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">priority = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">timeout = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;30s&quot;</span></span></code></pre></div><h2 id="解析策略配置" tabindex="-1">解析策略配置 <a class="header-anchor" href="#解析策略配置" aria-label="Permalink to &quot;解析策略配置&quot;">​</a></h2><p>解析策略控制多个解析器之间的协作方式，配置位于 <code>[parser.strategy]</code> 部分：</p><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">strategy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mode = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;priority&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cache_ttl = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;24h&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fallback = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span></code></pre></div><ul><li><p><strong>模式 (mode)</strong></p><ul><li><strong>说明</strong>: 解析器选择模式</li><li><strong>默认值</strong>: <code>&quot;priority&quot;</code></li><li><strong>可选值</strong>: <ul><li><code>&quot;priority&quot;</code>: 按优先级顺序使用解析器</li><li><code>&quot;all&quot;</code>: 使用所有启用的解析器并合并结果</li><li><code>&quot;vote&quot;</code>: 使用所有启用的解析器并选择最多数的结果</li></ul></li></ul></li><li><p><strong>缓存时间 (cache_ttl)</strong></p><ul><li><strong>说明</strong>: 解析结果的缓存时间</li><li><strong>默认值</strong>: <code>&quot;24h&quot;</code></li><li><strong>格式</strong>: 时间字符串，支持 <code>s</code>(秒)、<code>m</code>(分)、<code>h</code>(小时)、<code>d</code>(天)</li></ul></li><li><p><strong>失败回退 (fallback)</strong></p><ul><li><strong>说明</strong>: 当高优先级解析器失败时是否尝试低优先级解析器</li><li><strong>默认值</strong>: <code>true</code></li><li><strong>格式</strong>: 布尔值 (<code>true</code> 或 <code>false</code>)</li></ul></li></ul><h2 id="环境变量" tabindex="-1">环境变量 <a class="header-anchor" href="#环境变量" aria-label="Permalink to &quot;环境变量&quot;">​</a></h2><p>你可以使用环境变量覆盖配置文件中的解析器设置：</p><ul><li><p><strong>传统解析器</strong>:</p><ul><li><code>BANGUMI_PARSER_RAW_ENABLED</code>: 是否启用传统解析器</li><li><code>BANGUMI_PARSER_RAW_PRIORITY</code>: 传统解析器优先级</li></ul></li><li><p><strong>SiliconFlow 解析器</strong>:</p><ul><li><code>BANGUMI_PARSER_SILICONFLOW_ENABLED</code>: 是否启用 SiliconFlow 解析器</li><li><code>BANGUMI_PARSER_SILICONFLOW_API_KEY</code>: API 密钥</li><li><code>BANGUMI_PARSER_SILICONFLOW_MODEL</code>: 模型名称</li><li><code>BANGUMI_PARSER_SILICONFLOW_BASE_URL</code>: 基础 URL</li><li><code>BANGUMI_PARSER_SILICONFLOW_PRIORITY</code>: 优先级</li><li><code>BANGUMI_PARSER_SILICONFLOW_TIMEOUT</code>: 超时时间</li></ul></li><li><p><strong>其他解析器</strong>:</p><ul><li>类似的环境变量格式适用于其他解析器</li></ul></li></ul><h2 id="最佳实践" tabindex="-1">最佳实践 <a class="header-anchor" href="#最佳实践" aria-label="Permalink to &quot;最佳实践&quot;">​</a></h2><ol><li><p><strong>解析器选择</strong>:</p><ul><li>对于标准命名的文件，启用传统解析器即可</li><li>对于复杂或非标准命名的文件，启用 AI 解析器提高准确率</li><li>如果需要最高的准确率，可以启用多个解析器并使用 <code>vote</code> 模式</li></ul></li><li><p><strong>API 密钥管理</strong>:</p><ul><li>不要在配置文件中直接存储 API 密钥，使用环境变量注入</li><li>定期轮换 API 密钥，提高安全性</li></ul></li><li><p><strong>性能优化</strong>:</p><ul><li>适当增加缓存时间，减少 API 请求</li><li>设置合理的超时时间，避免请求卡住</li><li>优先使用传统解析器，仅在必要时使用 AI 解析器</li></ul></li></ol><h2 id="配置示例" tabindex="-1">配置示例 <a class="header-anchor" href="#配置示例" aria-label="Permalink to &quot;配置示例&quot;">​</a></h2><h3 id="基本配置-仅传统解析器" tabindex="-1">基本配置 (仅传统解析器) <a class="header-anchor" href="#基本配置-仅传统解析器" aria-label="Permalink to &quot;基本配置 (仅传统解析器)&quot;">​</a></h3><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">raw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">enabled = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">priority = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">strategy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mode = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;priority&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cache_ttl = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;24h&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fallback = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span></code></pre></div><h3 id="高准确率配置-多解析器" tabindex="-1">高准确率配置 (多解析器) <a class="header-anchor" href="#高准确率配置-多解析器" aria-label="Permalink to &quot;高准确率配置 (多解析器)&quot;">​</a></h3><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">raw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">enabled = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">priority = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">siliconflow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">enabled = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">api_key = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;\${SILICONFLOW_API_KEY}&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">model = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;deepseek-ai/DeepSeek-V3&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">base_url = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://api.siliconflow.com/v1&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">priority = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openai</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">enabled = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">api_key = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;\${OPENAI_API_KEY}&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">model = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;gpt-4&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">base_url = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://api.openai.com/v1&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">priority = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">strategy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mode = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;vote&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cache_ttl = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;48h&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fallback = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span></code></pre></div><h3 id="低资源消耗配置" tabindex="-1">低资源消耗配置 <a class="header-anchor" href="#低资源消耗配置" aria-label="Permalink to &quot;低资源消耗配置&quot;">​</a></h3><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">raw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">enabled = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">priority = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">siliconflow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">enabled = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">api_key = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;\${SILICONFLOW_API_KEY}&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">model = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;deepseek-ai/DeepSeek-V3&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">base_url = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://api.siliconflow.com/v1&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">priority = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">timeout = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;10s&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">strategy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mode = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;priority&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cache_ttl = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;72h&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fallback = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span></code></pre></div>`,46)]))}const g=i(t,[["render",p]]);export{d as __pageData,g as default};
