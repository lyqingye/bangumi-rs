# 智能下载

智能下载是 Bangumi-rs 的核心功能之一，它能根据用户设置自动选择最佳资源并管理下载过程。所以该页面不会提供过多的控制功能给用户.

## 下载器支持

Bangumi-rs 目前支持两种下载器：

### 115 网盘

115 网盘下载器通过离线下载功能实现资源下载。主要特点：

- 支持高速离线下载
- 自动管理网盘存储空间
- 需要提供有效的 cookies 配置
- 支持请求频率限制，避免被临时封禁
- 默认开启下载完成后删除任务（不会删除文件）

### qBittorrent

qBittorrent 下载器通过 WebUI API 实现资源下载。主要特点：

- 支持本地 BT 下载
- 可配置下载目录和优先级
- 需要配置 WebUI 访问信息（地址、用户名、密码）
- 支持下载限速和队列管理
- 默认不开启下载完成后删除任务
- 支持 HTTP/HTTPS 代理配置

### Transmission

Transmission 下载器通过 RPC API 实现资源下载。主要特点：

- 支持本地 BT 下载
- 可配置下载目录和优先级
- 需要配置 RPC API 访问信息（地址、用户名、密码）

## 下载管理界面

![下载管理](/screenshot/download.png)

下载管理界面提供了直观的任务监控和控制功能，让你可以轻松管理所有下载任务。

## 失败处理

- **自动重试**: 下载失败后自动尝试其它种子
- **重试策略**: 可配置最大重试次数和重试间隔
- **错误报告**: 详细记录下载失败原因，便于排查

## 下载控制

- **手动重试**: 对于可以点击控制按钮以实现手动重试
- **优先级控制**: 可以通过配置调整不同下载器的优先级
- **自动清理**: 可配置下载完成后是否自动删除任务（不会删除文件）

## 手动下载

如果解析器识别错了资源，那么则可能导致下载器下载错资源，所以在剧集页面中可以选择合适的种子然后点击`下载按钮`，如下图所示:

![手动选择种子](/screenshot/manual-select-torrent.png)

## 注意事项

1. **115 网盘下载器**:

   - cookies 配置需要定期更新
   - 请求频率限制建议保持默认值 1
   - 下载目录路径相对于网盘根目录

2. **qBittorrent 下载器**:
   - 需要启用并正确配置 WebUI
   - 下载目录必须是绝对路径
   - 确保 WebUI 地址可访问
   - 如果使用反向代理，注意配置正确的地址和端口
   - 建议配置下载限速避免影响正常网络使用
   - 如果需要通过代理下载，可以在 qBittorrent 中配置代理服务器

